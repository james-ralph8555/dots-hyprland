# ######## Window rules ########

# Disable blur for xwayland context menus
windowrulev2 = no_blur, class:^()$, title:^()$

# Disable blur for every window
windowrulev2 = no_blur, class:.*

# Floating
windowrulev2 = center, title:^(Open File)(.*)$
windowrulev2 = float, title:^(Open File)(.*)$
windowrulev2 = center, title:^(Select a File)(.*)$
windowrulev2 = float, title:^(Select a File)(.*)$
windowrulev2 = center, title:^(Choose wallpaper)(.*)$
windowrulev2 = float, title:^(Choose wallpaper)(.*)$
windowrulev2 = size (monitor_w*.60) (monitor_h*.65), title:^(Choose wallpaper)(.*)$
windowrulev2 = center, title:^(Open Folder)(.*)$
windowrulev2 = float, title:^(Open Folder)(.*)$
windowrulev2 = center, title:^(Save As)(.*)$
windowrulev2 = float, title:^(Save As)(.*)$
windowrulev2 = center, title:^(Library)(.*)$
windowrulev2 = float, title:^(Library)(.*)$
windowrulev2 = center, title:^(File Upload)(.*)$
windowrulev2 = float, title:^(File Upload)(.*)$
windowrulev2 = center, title:^(.*)(wants to save)$
windowrulev2 = float, title:^(.*)(wants to save)$
windowrulev2 = center, title:^(.*)(wants to open)$
windowrulev2 = float, title:^(.*)(wants to open)$
windowrulev2 = float, class:^(blueberry\.py)$
windowrulev2 = float, class:^(guifetch)$ # FlafyDev/guifetch
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = size (monitor_w*.45) (monitor_h*.45), class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size (monitor_w*.45) (monitor_h*.45), class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = center, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size (monitor_w*.45) (monitor_h*.45), class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$
windowrulev2 = float, class:.*plasmawindowed.*
windowrulev2 = float, class:kcm_.*
windowrulev2 = float, class:.*bluedevilwizard
windowrulev2 = float, title:.*Welcome
windowrulev2 = float, title:^(illogical-impulse Settings)$
windowrulev2 = float, title:.*Shell conflicts.*
windowrulev2 = float, class:org.freedesktop.impl.portal.desktop.kde
windowrulev2 = size (monitor_w*.60) (monitor_h*.65), class:org.freedesktop.impl.portal.desktop.kde
windowrulev2 = float, class:^(Zotero)$
windowrulev2 = size (monitor_w*.45) (monitor_h*.45), class:^(Zotero)$

# Move
# kde-material-you-colors spawns a window when changing dark/light theme. This is to make sure it doesn't interfere at all.
windowrulev2 = float, class:^(plasma-changeicons)$
windowrulev2 = no_initial_focus, class:^(plasma-changeicons)$
windowrulev2 = move 999999 999999, class:^(plasma-changeicons)$
# stupid dolphin copy
windowrulev2 = move 40 80, title:^(Copying â€” Dolphin)$

# Tiling
windowrulev2 = tile, class:^dev\.warp\.Warp$

# Picture-in-Picture
windowrulev2 = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = keep_aspect_ratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = move (monitor_w*.73) (monitor_h*.72), title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = size (monitor_w*.25) (monitor_h*.25), title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# --- Tearing ---
windowrulev2 = immediate, title:.*\.exe
windowrulev2 = immediate, title:.*minecraft.*
windowrulev2 = immediate, class:^(steam_app).*

# Fix Jetbrain IDEs focus/rerendering problem
windowrulev2 = no_initial_focus, class:^jetbrains-.*$, float:1, title:^$|^\s$|^win\d+$

# No shadow for tiled windows (matches windows that are not floating).
windowrulev2 = no_shadow, float:0

# ######## Workspace rules ########
workspace = special:special, gapsout:30

# ######## Layer rules ########
layerrulev2 = xray, namespace:.*
# layerrule = match:namespace .*, no_anim on
layerrulev2 = no_anim, namespace:walker
layerrulev2 = no_anim, namespace:selection
layerrulev2 = no_anim, namespace:overview
layerrulev2 = no_anim, namespace:anyrun
layerrulev2 = no_anim, namespace:indicator.*
layerrulev2 = no_anim, namespace:osk
layerrulev2 = no_anim, namespace:hyprpicker

layerrulev2 = no_anim, namespace:noanim
layerrulev2 = blur, namespace:gtk-layer-shell
layerrulev2 = ignore_alpha 0, namespace:gtk-layer-shell
layerrulev2 = blur, namespace:launcher
layerrulev2 = ignore_alpha 0.5, namespace:launcher
layerrulev2 = blur, namespace:notifications
layerrulev2 = ignore_alpha 0.69, namespace:notifications
layerrulev2 = blur, namespace:logout_dialog # wlogout

# ags
layerrulev2 = animation slide left, namespace:sideleft.*
layerrulev2 = animation slide right, namespace:sideright.*
layerrulev2 = blur, namespace:session[0-9]*
layerrulev2 = blur, namespace:bar[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:bar[0-9]*
layerrulev2 = blur, namespace:barcorner.*
layerrulev2 = ignore_alpha 0.6, namespace:barcorner.*
layerrulev2 = blur, namespace:dock[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:dock[0-9]*
layerrulev2 = blur, namespace:indicator.*
layerrulev2 = ignore_alpha 0.6, namespace:indicator.*
layerrulev2 = blur, namespace:overview[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:overview[0-9]*
layerrulev2 = blur, namespace:cheatsheet[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:cheatsheet[0-9]*
layerrulev2 = blur, namespace:sideright[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:sideright[0-9]*
layerrulev2 = blur, namespace:sideleft[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:sideleft[0-9]*
layerrulev2 = blur, namespace:indicator.*
layerrulev2 = ignore_alpha 0.6, namespace:indicator.*
layerrulev2 = blur, namespace:osk[0-9]*
layerrulev2 = ignore_alpha 0.6, namespace:osk[0-9]*

# Quickshell
layerrulev2 = blur_popups, namespace:quickshell:.*
layerrulev2 = blur, namespace:quickshell:.*
layerrulev2 = ignore_alpha 0.79, namespace:quickshell:.*
layerrulev2 = animation slide, namespace:quickshell:bar
layerrulev2 = no_anim, namespace:quickshell:actionCenter
layerrulev2 = animation slide bottom, namespace:quickshell:cheatsheet
layerrulev2 = animation slide bottom, namespace:quickshell:dock
layerrulev2 = animation popin 120%, namespace:quickshell:screenCorners
layerrulev2 = no_anim, namespace:quickshell:lockWindowPusher
layerrulev2 = animation fade, namespace:quickshell:notificationPopup
layerrulev2 = no_anim, namespace:quickshell:overlay
layerrulev2 = ignore_alpha 1, namespace:quickshell:overlay
layerrulev2 = no_anim, namespace:quickshell:overview
layerrulev2 = animation slide bottom, namespace:quickshell:osk
layerrulev2 = no_anim, namespace:quickshell:polkit
layerrulev2 = xray off, namespace:quickshell:popup # No weird color for bar tooltips (this in theory should suffice)
layerrulev2 = ignore_alpha 1, namespace:quickshell:popup # No weird color for bar tooltips (but somehow this is necessary)
layerrulev2 = ignore_alpha 1, namespace:quickshell:mediaControls # Same as above
layerrulev2 = animation slide, namespace:quickshell:reloadPopup
layerrulev2 = no_anim, namespace:quickshell:regionSelector
layerrulev2 = no_anim, namespace:quickshell:screenshot
layerrulev2 = blur, namespace:quickshell:session
layerrulev2 = no_anim, namespace:quickshell:session
layerrulev2 = ignore_alpha 0, namespace:quickshell:session
layerrulev2 = animation slide right, namespace:quickshell:sidebarRight
layerrulev2 = animation slide left, namespace:quickshell:sidebarLeft
layerrulev2 = animation slide, namespace:quickshell:verticalBar
layerrulev2 = animation slide top, namespace:quickshell:wallpaperSelector
layerrulev2 = no_anim, namespace:quickshell:wNotificationCenter
layerrulev2 = no_anim, namespace:quickshell:wOnScreenDisplay
layerrulev2 = no_anim, namespace:quickshell:wStartMenu
layerrulev2 = ignore_alpha 0, namespace:quickshell:wTaskView
layerrulev2 = no_anim, namespace:quickshell:wTaskView

# Launchers need to be FAST
layerrulev2 = no_anim, namespace:gtk4-layer-shell
